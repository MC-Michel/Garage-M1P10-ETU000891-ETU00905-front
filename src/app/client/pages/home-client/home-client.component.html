

<!-- BEGIN: Content-->
<div class="app-content content ">
    <div class="content-overlay"></div>
    <div class="header-navbar-shadow"></div>
    <div class="content-wrapper container-xxl p-0">
        <div class="content-header row">
        </div>
        <div class="content-body">
            <section id="seach-filter">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Mes voitures</h4>
                            </div>
                            <div class="card-body">
                                <app-car-filter (filterClicked)="filterResults($event)" ></app-car-filter>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="list">
                <div class="row">
                    <div class="col-xl-12 col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Liste</h4>
                               
                                <button class="btn btn-primary" (click)="openModal()">
                                    <i class="fa-solid fa-plus"></i>
                                    Ajouter
                                </button>
                            </div>

                            <div class="table-responsive">
                                <app-gen-datatable
                                    [headers]="headers"
                                    [fetchData]="fetchData"
                                    [actionOptions]="actionOptions"
                                >
                                </app-gen-datatable>
                                <ng-template #depositCarColumn let-row="row">
                                    <button *ngIf="!row.currentRepair" class="btn btn-primary" (click)="depositCar(row._id)">Déposer</button>
                                    <button *ngIf="row.currentRepair" class="btn btn-info" routerLink="/client/car/current-repair/{{row._id}}">Réparation en cours</button>
                                </ng-template>

                                <ng-template #statusColumn let-row="row">
                                    <app-car-status [status]="row.status"></app-car-status>
                                </ng-template>
                              
                                <ng-template #actionColumn let-row="row">
                                    <button type="button" class="btn btn-sm dropdown-toggle hide-arrow py-0" data-bs-toggle="dropdown">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-end">
                                        <a *ngFor="let action of getActionOptions(row)" (click)="action.actionFunction(row)" class="dropdown-item">
                                            <i class="fa-solid fa-trash me-50"></i>
                                            <span>{{action.label}}</span>
                                        </a>
                                        
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                </div>

    <app-car-creation-form [(isVisible)]="isCreationModalVisible"></app-car-creation-form>
                <app-car-update-form  *ngIf="currentUpdateCarId" [(isVisible)]="isUpdateModalVisible" [carId]="currentUpdateCarId"></app-car-update-form>




            </section>
        </div>
    </div>
</div>
<!-- END: Content-->

<!-- Car creation modal -->


<!-- Car update modal-->


